<!--#set var="title" value="Darter" -->
<!--#include virtual="/header.html" -->

<img src="darter.png" alt="Darter Bird" align="right">
<h2>Darter - SPICE based IBIS modelling tool</h2>

<p>Darter is very much a work in progress. It currently utilizes gEDA gschem
for SPICE netlisting, Python to create SPICE library files, and ngspice for
simulation. The choice of Python and ngspice are primarily to get the project
going.</p>

<p>Download: <a href="https://gitorious.org/darter">https://gitorious.org/darter</a></p>

<p>The basic workflow is:</p>
<ul>
<li>Build ibis_*.inc files (make, utilizes gschem)
<li>Obtain a .ibs file from your vendor (eg, u69a.ibs)
<li>Build the associated .lib file (make u69a.lib)
<li>Create a schematic using the proper IBIS components:
	<ul>
	<li>Check in your .ibs file to see what [Model]'s are available
	<li>Create a 'SPICE directive' with a .lib line for that [Model] (.lib u69a.lib DQ_FULL_533)
	<li>Select the gschem IBIS symbol associated with the Model_type
	<li>Fill in the <model> in the symbol value attribute (DQ_FULL_533)
		<ul>
		<li>Optionally add spec=-1/0/1 for slow, typ, and fast respectively
		<li>Optionally prefix model name with package name and '_' for package modelling
		<li>Optionally suffix model name with '_' and pin name or signal name for package modelling
		<li>eg: MT47H128M16U69A_DQ_FULL_533_DQ14 spec=1
		</ul>
	<li>Connect up a stimulus to the IN and EN pins if applicable
	<li>Connect up the power and ground rails
	<li>Connect together various models as in your own design
	<li>Create a SPICE netlist from your schematic (gnetlist -g spice-sdb -o example.net example.sch)
	<li>Load the netlist in ngspice (ngspice example.net)
	<li>Run as appropriate (tran 1p 60n)
	<li>Plot the output (aka, go nuts)
	</ul>
</ul>

<p>Currently unsupported:</p>
<ul>
<li>Driver Schedules
<li>External Models/circuits
<li>ECL
<li>ISSO PU/PD data
<li>Composite current for rising/falling waveforms
<li>Bus hold
<li>Fall back
<li>Series models
<li>Comment char changes
<li>Model specs/receiver thresholds
</ul>

<p>Current limitations:</p>
<ul>
<li>darter.py can generate thousands of subcircuits for some IBIS files,
ngspice has a hardcoded limit of 1000 subcircutis. I'm not sure if the best
workaround is to patch ngspice, or modify darter.py to split up its output.
<li>Output buffers need two rising and falling waveforms each
<li>Open source/sink buffers need one rising and one falling waveform
<li>Ramp data is ignored
</ul>

<p>The below image shows an overlaid comparison of a Micron U69A HSPICE
model (solid grey, pink, blue), a Micron U69A IBIS model with existing
IBIS tool (dotted grep, pink, blue), and the output of the model generated
by darter.py (overlying solid orange, blue, and green)</p>

<img src="dq_full_odt150_800.png" alt="IBIS output comparison" >

<!--#include virtual="/trailer.html" -->
